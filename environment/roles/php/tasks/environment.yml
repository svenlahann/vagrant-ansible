---
- name: install composer globally
  shell: curl -sS https://getcomposer.org/installer | /usr/bin/php && /bin/mv -f composer.phar /usr/local/bin/composer creates=/usr/local/bin/composer

- name: install symfony installer globally
  shell: curl -LsS http://symfony.com/installer -o /usr/local/bin/symfony
- file: path=/usr/local/bin/symfony mode="a+x"

- name: install laravel installer
  shell: "{{ item }}"
  become: true
  become_user: vagrant
  with_items:
    - composer global require "laravel/installer"
    - echo 'export PATH="$PATH:$HOME/.composer/vendor/bin"' >> ~/.bashrc

- name: install drush
  command: "{{ item }}"
  with_items:
    - wget http://files.drush.org/drush.phar
    - chmod +x drush.phar
    - mv drush.phar /usr/local/bin/drush

# TODO: check problems related to drupal console and ioncube
#- name: install drupal console
#  command: "{{ item }}"
#  with_items:
#    - curl https://drupalconsole.com/installer -L -o drupal.phar
#    - chmod +x drupal.phar
#    - mv drupal.phar /usr/local/bin/drupal
#    - drupal init

- name: install shopware cli tools
  command: "{{ item }}"
  with_items:
    - wget http://shopwarelabs.github.io/sw-cli-tools/sw.phar
    - chmod 777 sw.phar
    - mv sw.phar /usr/local/bin/sw

- name: setup env permissions
  file: path=/usr/local/bin mode=0777